import{u as b}from"./vue.f36acd1f.9VebNK-d.js";import{B as P,b as m,c as p,F as L,f as A,n as _,C as k,r as s}from"./entry.t7EMUHuR.js";function R(i,t){const{title:o,titleTemplate:r,...u}=i;return b({title:o,titleTemplate:r,_flatMeta:u},{...t,transform(a){const c=P({...a._flatMeta});return delete a._flatMeta,{...a,meta:c}}})}const w={__name:"LoadingComponent",props:{cols:1,rows:1},setup(i){const t=i,o=()=>Math.floor(Math.random()*9)+4;return(r,u)=>(m(),p("div",{class:_("grid grid-cols-"+t.cols+" gap-4")},[(m(!0),p(L,null,A(t.rows,a=>(m(),p("div",{class:_("animate-pulse bg-zinc-300 dark:bg-zinc-700 rounded-lg h-8 w-"+o()+"/12"),key:a},null,2))),128))],2))}},T=w;function E(){return k()}function O(){const i=E(),t=s({data:[],status:0,message:""}),o=s({data:{},status:0,message:"",meta:{title:"",description:""}}),r=s({}),u=s(!1),a=s(!1),c=s(!1),d=s(!0),g=s(!0),f=s(!0);return{isLoadingProperties:u,properties:t,getProperties:async(l="")=>{u.value=!0,d.value=!1,$fetch(i.public.API_BASE_URL+"property/fts?query="+l,{method:"GET"}).then(e=>{Object.keys(e).length>0?t.value={data:e,status:200,message:e.message?e.message:""}:t.value={data:[],status:404,message:"Not Found"}}).catch(e=>{t.value={data:[],status:e.status??0,message:e.response._data.detail.name??""}}).finally(()=>{u.value=!1})},isLoadingProperty:a,property:o,getProperty:async(l="")=>{a.value=!0,g.value=!1,$fetch(i.public.API_BASE_URL+"property?id="+l,{method:"GET"}).then(e=>{Object.keys(e).length>0?o.value={data:e,status:200,message:e.message?e.message:"",meta:{title:e[l].name??"",description:e[l].general_info.descriptions.headline??""}}:o.value={data:{},status:404,message:"Not Found",meta:{title:"Not Found",description:"Oops! Something went wrong."}}}).catch(e=>{o.value={data:{},status:e.status??0,message:e.response._data.detail.name??"",meta:{title:"Oops! Something went wrong.",description:""}}}).finally(()=>{a.value=!1})},isLoadingAvailabilities:c,availabilities:r,getAvailabilities:async(l="",e="2024-06-25",v="2024-06-26",h=1,y=2)=>{c.value=!0,f.value=!1,$fetch(i.public.API_BASE_URL+"property/availability/"+l+"?checkin="+e+"&checkout="+v+"&number_of_room="+h+"&guest_per_room="+y,{method:"GET"}).then(n=>{r.value={data:n,status:200,message:n.message?n.message:""}}).catch(n=>{console.log(n),console.log(n.response),r.value={data:[],status:n.response.status??0,message:n.response._data.detail.name??""}}).finally(()=>{c.value=!1})},initialLoadProperty:g,initialLoadProperties:d,initialLoadAvailabilities:f}}export{T as _,R as a,O as u};
